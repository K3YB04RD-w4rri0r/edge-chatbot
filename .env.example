# Azure AD Configuration
# Get these from your Azure App Registration
AZURE_CLIENT_ID=your-client-id-here
AZURE_CLIENT_SECRET=your-client-secret-here

# Azure Tenant Configuration
# Options: "common" (all accounts), "organizations" (work/school), 
#          "consumers" (personal MS accounts), or specific tenant ID
AZURE_TENANT_ID=common

# OAuth Redirect URI - Must match Azure AD app registration exactly
REDIRECT_URI=http://localhost:8000/auth/microsoft/callback

# JWT Secret Key - Generate a strong random key
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-here

# JWT Configuration
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Application URLs
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000

# Environment: development, staging, production
ENVIRONMENT=development

# CORS Configuration (comma-separated for multiple origins)
CORS_ORIGINS=["http://localhost:3000","http://localhost:8080"]
CORS_ALLOW_METHODS=["GET","POST","PUT","DELETE"]
CORS_ALLOW_HEADERS=["Content-Type","Authorization"]

# ===== REDIS CONFIGURATION (REQUIRED) =====
# Redis is now required for both development and production

# Option 1: Use Redis URL (takes precedence if set)
# REDIS_URL=redis://localhost:6379/0
# REDIS_URL=redis://:password@localhost:6379/0  # With password
# REDIS_URL=rediss://user:password@host:port/0  # With SSL

# Option 2: Use individual settings
REDIS_HOST=chatbot-edge.redis.cache.windows.net
REDIS_PORT=6379 # 6380 for Azure Redis with SSL
REDIS_DB=0
# REDIS_PASSWORD=your-redis-password  # Uncomment if Redis has password

# Redis SSL Configuration (for production Redis instances)
REDIS_SSL=false
REDIS_SSL_CERT_REQS=required  # required, optional, none

# Security Configuration
# Set to true in production with HTTPS
SECURE_COOKIES=false

# Cookie domain (set for production, e.g., ".yourdomain.com")
# COOKIE_DOMAIN=.yourdomain.com

# Cookie SameSite: lax, strict, or none
COOKIE_SAMESITE=lax

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT=1000 per hour
RATE_LIMIT_AUTH=10 per minute
RATE_LIMIT_REFRESH=5 per minute
RATE_LIMIT_API=100 per minute

# Logging Level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ===== QUICK START =====
# 1. Install Redis:
#    - macOS: brew install redis && brew services start redis
#    - Ubuntu: sudo apt install redis-server && sudo systemctl start redis-server
#    - Windows: Use WSL2 or download from GitHub
#
# 2. Test Redis connection:
#    redis-cli ping
#    (should return PONG)
#
# 3. Copy this file to .env and fill in your values:
#    cp .env.example .env
#
# 4. Start the app:
#    python main.py